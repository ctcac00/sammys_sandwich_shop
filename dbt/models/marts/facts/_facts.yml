version: 2

models:
  - name: fct_sales
    description: >
      Order-level sales fact table. Grain: one row per completed order.
      Contains revenue measures and links to customer, employee, location, 
      payment method, and order type dimensions.
    columns:
      - name: order_id
        description: Primary key (degenerate dimension)
        tests:
          - unique
          - not_null
      - name: date_key
        tests:
          - not_null

  - name: fct_sales_line_item
    description: >
      Line-item level sales fact table. Grain: one row per order item.
      Contains quantity, revenue, and profit measures with links to 
      menu item dimension for product analysis.
    columns:
      - name: order_item_id
        description: Primary key
        tests:
          - unique
          - not_null
      - name: order_id
        tests:
          - not_null
      - name: date_key
        tests:
          - not_null

  - name: fct_inventory_snapshot
    description: >
      Periodic inventory snapshot fact table. Grain: one row per 
      location/ingredient/day. Contains stock quantities and status indicators.
    columns:
      - name: inventory_snapshot_id
        description: Primary key
        tests:
          - unique
          - not_null

  - name: fct_daily_summary
    description: >
      Aggregated daily summary fact table. Grain: one row per location/day.
      Pre-aggregated metrics for efficient dashboard queries.
    columns:
      - name: daily_summary_id
        description: Surrogate key
        tests:
          - unique
          - not_null

  - name: fct_customer_activity
    description: >
      Customer activity accumulating snapshot fact table. Grain: one row per customer.
      Contains lifetime metrics, RFM scores, and favorite analysis.
    columns:
      - name: customer_sk
        description: Primary key (reference to dim_customer)
        tests:
          - unique
          - not_null

  - name: fct_menu_item_performance
    description: >
      Menu item performance metrics fact table. Grain: one row per menu item.
      Contains aggregate sales, profit, and ranking metrics.
    columns:
      - name: menu_item_sk
        description: Primary key (reference to dim_menu_item)
        tests:
          - unique
          - not_null
